<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="elm.js"></script>
</head>
<body>
  <div id="elm"></div>
</body>
<script>
let app = Elm.Main.init({
  node: document.getElementById('elm')
});
// port Elm->JS newTab: open url in new tab
app.ports.newTab.subscribe( url => window.open(url, '_blank'));
// port Elm->JS getCaret: ask caret position in textarea
app.ports.getCaret.subscribe( () => {
  const input = document.getElementById('app__input');
  // port JS->Elm gotCaret: tell caret position in textarea
  app.ports.gotCaret.send(input.selectionStart);
});
// port Elm->JS setCaret: adjust caret position in textarea
app.ports.setCaret.subscribe( i => {
  let input = document.getElementById('app__input');
  input.setSelectionRange(i, i);
});
</script>
</html>
