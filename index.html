<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="elm.js"></script>
</head>
<body>
  <div id="elm"></div>
</body>
<script>
let app = Elm.Main.init({
  node: document.getElementById('elm')
});
// port Elm->JS newTab: open url in new tab
app.ports.newTab.subscribe( url => window.open(url, '_blank'));
// port Elm->JS indent: insert indent in textarea
app.ports.indent.subscribe(function() {
  const indent = '    ';
  let input = document.getElementById('app__input');
  const caret = input.selectionStart + indent.length;
  let value = input.value;
  const lhs = value.slice(0, input.selectionStart);
  const rhs = value.slice(input.selectionEnd);
  input.value = lhs + indent + rhs;
  input.setSelectionRange(caret, caret);
});
</script>
</html>
